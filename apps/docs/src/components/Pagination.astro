---
const { dir, pagination } = Astro.locals.starlightRoute;
const { prev, next } = pagination;
const isRtl = dir === 'rtl';
---

<nav class="pager print:hidden" dir={dir} aria-label="Pagination">
  {
    prev && (
      <a class="pager-card prev" href={prev.href} rel="prev">
        <span class="meta">{Astro.locals.t('page.previousLink')}</span>
        <span class="title">{prev.label}</span>
        <span class="glyph" aria-hidden="true">{isRtl ? '→' : '←'}</span>
      </a>
    )
  }
  {
    next && (
      <a class="pager-card next" href={next.href} rel="next">
        <span class="meta">{Astro.locals.t('page.nextLink')}</span>
        <span class="title">{next.label}</span>
        <span class="glyph" aria-hidden="true">{isRtl ? '←' : '→'}</span>
      </a>
    )
  }
</nav>

<style>
  @layer starlight.core {
    .pager {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(min(18rem, 100%), 1fr));
      gap: 0.85rem;
    }

    .pager-card {
      position: relative;
      display: grid;
      gap: 0.35rem;
      text-decoration: none;
      border-radius: 0.9rem;
      border: 1px solid var(--sl-color-hairline-light);
      background: linear-gradient(
        155deg,
        color-mix(in srgb, var(--sl-color-bg-nav) 92%, var(--sl-color-accent) 8%),
        var(--sl-color-bg-nav)
      );
      color: var(--sl-color-text);
      box-shadow: var(--sl-shadow-sm);
      padding: 1rem 1rem 1rem 3rem;
      transition: border-color 180ms ease, transform 180ms ease, box-shadow 180ms ease;
    }

    .pager-card:hover {
      border-color: var(--sl-color-accent);
      box-shadow: var(--sl-shadow-md);
      transform: translateY(-1px);
    }

    .pager-card:focus-visible {
      outline: 2px solid var(--sl-color-accent);
      outline-offset: 2px;
    }

    .meta {
      font-size: var(--sl-text-xs);
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--sl-color-text-accent);
      line-height: 1.2;
    }

    .title {
      font-size: var(--sl-text-xl);
      font-weight: 650;
      color: var(--sl-color-white);
      line-height: var(--sl-line-height-headings);
      overflow-wrap: anywhere;
    }

    .glyph {
      position: absolute;
      inset-inline-start: 1rem;
      inset-block-start: 50%;
      translate: 0 -50%;
      font-size: 1.35rem;
      font-weight: 700;
      color: var(--sl-color-accent);
      line-height: 1;
    }

    .pager-card.next {
      text-align: end;
      padding: 1rem 3rem 1rem 1rem;
    }

    .pager-card.next .glyph {
      inset-inline-start: auto;
      inset-inline-end: 1rem;
    }

    @media (prefers-reduced-motion: reduce) {
      .pager-card {
        transition: none;
      }
    }
  }
</style>
